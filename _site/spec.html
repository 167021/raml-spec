<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>RAML 0.8</title><link rel="stylesheet" href="stylesheets/github-37b6e181a972ce6706fa61ad91a3f4994af90049.css">
  <link rel="stylesheet" href="stylesheets/github2-8159a6c9a2c0054ae5779d7c98fa8d0b5dd25fca.css">
  <style>
    .previewPage {
      margin: 64px auto;
      width: 920px;
    }
  </style>
<style type="text/css"></style></head>
<body cz-shortcut-listen="true">
  <div class="page">
    <div class="previewPage">
    <div id="readme" class="announce md">
      <article class="markdown-body entry-content">
        <h1>RAML™ Version 0.8: RESTful API Modeling Language</h1>

<h2>Abstract</h2>

<p>RAML™ is a YAML-based language that describes RESTful APIs. Together with the <a href="http://yaml.org/spec/1.2/spec.html">YAML specification</a>, this specification provides all the information necessary to describe RESTful APIs; to create API client-code and API server-code generators; and to create API user documentation from RAML API definitions.</p>

<h2>Introduction</h2>

<p>This specification describes RAML. RAML is a human-readable and machine process-able description of a RESTful API interface. API documentation generators, API client-code generators, and API servers consume a RAML document to create user documentation, client code, and server code stubs, respectively.</p>

<h2>Conventions</h2>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119 [RFC2119].</p>

<h2>Overview</h2>

<p>RAML defines the media type "application/raml+yaml" for describing and documenting a RESTful API's resources, such as the resources' methods and schema. RAML is YAML-based, and RAML documents support all YAML 1.2 features. The recommended filename extension for RAML files is ".raml".</p>

<p>RAML also provides facilities for extensively documenting a RESTful API, enabling documentation generator tools to extract the user documentation and translate it to visual formats such as PDF, HTML, and so on.</p>

<p>RAML also introduces the innovative concept of resource types and traits for characterizing resources and methods, thereby minimizing the amount of repetition required to specify a RESTful API's design.</p>

<p>This RAML Specification is organized as follows:</p>

<ul>
<li>
<strong>Basic Information.</strong> Explains how to describe core aspects of a RESTful API, such as is name, title, and location.</li>
<li>
<strong>User Documentation.</strong> Describes how to include supporting documentation for the RESTful API. </li>
<li>
<strong>Resource Types and Traits.</strong> Describes the optional mechanism for using RAML resource types and traits to characterize resources so as to avoid unnecessary repetition in the RESTful API's definition. </li>
<li>
<strong>Resources.</strong> Describes how to specify a RESTful API's resources, resources' methods and schema, and the interactions between resources. </li>
</ul><p>RAML is a trademark of MuleSoft, Inc.</p>

<h3>Terminology</h3>

<p>For this specification, <em>API definition</em> will be used to denote the description of an API using this specification and <em>RAML Specification</em> refers to the current document.</p>

<h3>REST</h3>

<p><em>REST</em> is used in the context of an API implemented using the principles of REST. The REST acronym stands for Representational State Transfer and was first introduced and defined in 2000 by Roy Fielding in his doctoral dissertation [REST].</p>

<h3>Resource</h3>

<p>A <em>resource</em> is the conceptual mapping to an entity or set of entities.</p>

<h2>Markup Language</h2>

<p>This specification uses YAML 1.2 [YAML] as its core format. YAML is a human-readable data format that aligns well with the design goals of this specification.</p>

<p>RAML API definitions are YAML-compliant documents that begin with a REQUIRED YAML-comment line that indicates the RAML version, as follows:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
</pre></div>

<p>The RAML version MUST be the first line of the RAML document. RAML parsers MUST interpret all other YAML-commented lines as comments.</p>

<p>In RAML, the YAML data structures are enhanced to include data types that are not natively supported. All RAML document parsers MUST support these extensions.</p>

<p>In RAML, all values MUST be interpreted in a case-sensitive manner.</p>

<h3>Includes</h3>

<p>The YAML specification does not require that YAML parsers use any particular mechanism for splitting a YAML file into smaller manageable pieces. However, RAML documents MUST be able to be split among multiple files. To support this function, all RAML parsers MUST support the <em>include</em> tag, which enables including RAML and YAML and regular text files.</p>

<p>In this example, the content of myTextFile.txt is included as the value of the external property.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">external</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">myTextFile.txt</span>
</pre></div>

<p>When RAML or YAML files are included, RAML parsers MUST not only read the content, but parse it and add the content to the declaring structure as if the content were declared inline.</p>

<p>To simplify API definition, and because the included file's parsing context is not shared between the included file and its parent, an included file SHALL NOT use a YAML reference to an anchor in a separate file. Likewise, a reference made from a parent file SHALL NOT reference a structure anchor defined in an included file.</p>

<p>In this example, the <em>properties.raml</em> file defines two properties. The <em>big.raml</em> file includes the properties.raml file.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="c1">#properties.raml</span>

<span class="l-Scalar-Plain">propertyA</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">valueA</span>
<span class="l-Scalar-Plain">propertyB</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">valueB</span>
</pre></div>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="c1">#big.raml</span>

<span class="l-Scalar-Plain">external</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">properties.raml</span>
</pre></div>

<p>The resulting structure is equivalent to the following inline declaration:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">external</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">propertyA</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">valueA</span>
  <span class="l-Scalar-Plain">propertyB</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">valueB</span>
</pre></div>

<p>If a relative path is used for the included file, the path is interpreted relative to the location of the original (including) file. If the original file is fetched as an HTTP resource, the included file SHOULD be fetched over HTTP.</p>

<p>In the following example, because the original (including) file is located at <em><a href="http://example-domain.org/api/example.raml">http://example-domain.org/api/example.raml</a></em>, the <em>properties.raml</em> file should be fetched from <em><a href="http://example-domain.org/api/properties.raml">http://example-domain.org/api/properties.raml</a></em>.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="c1">#http://example-domain.org/api/example.raml</span>

<span class="l-Scalar-Plain">external</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">properties.raml</span>
</pre></div>

<p>If the included file has one of the following media types:</p>

<ul>
<li>application/raml+yaml</li>
<li>text/yaml</li>
<li>text/x-yaml</li>
<li>application/yaml</li>
<li>application/x-yaml</li>
</ul><p>or a <em>.raml</em> or <em>.yml</em> or <em>.yaml</em> extension, RAML parsers MUST parse the content the file as RAML content and append the parsed structures to the RAML document's node.</p>

<p>The location of the file to be included, that is, the right-hand side of !include, must be static, that is, it cannot contain any resource type or trait parameters. This will be reconsidered for future versions of RAML.</p>

<a name="named-parameters"></a>
<h2>Named Parameters</h2>

<p>This RAML Specification describes collections of named parameters for the following properties: URI parameters, query string parameters, form parameters, request bodies (depending on the media type), and request and response headers. All the collections specify the named parameters' attributes as described in this section.</p>

<p>Some named parameters are optional and others are required. See the description of each named parameter.</p>

<p>Unless otherwise noted, named parameter values must be formatted as plain text. All valid YAML file characters MAY be used in named parameter values.</p>

<h3>displayName</h3>

<p>(Optional)<br>
The <em>displayName</em> attribute specifies the parameter's display name. It is a friendly name used only for display or documentation purposes. If <em>displayName</em> is not specified, it defaults to the property's key (the name of the property itself).</p>

<h3>description</h3>

<p>(Optional)<br>
The <em>description</em> attribute describes the intended use or meaning of the parameter. This value MAY be formatted using Markdown [MARKDOWN].</p>

<h3>type</h3>

<p>(Optional)<br>
The <em>type</em> attribute specifies the primitive type of the parameter's resolved value. API clients MUST return/throw an error if the parameter's resolved value does not match the specified type. If <em>type</em> is not specified, it defaults to string. Valid types are:</p>

<table>
<thead><tr>
<th align="left">Type</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="left">string</td>
<td align="left">Value MUST be a string.</td>
</tr>
<tr>
<td align="left">number</td>
<td align="left">Value MUST be a number. Indicate floating point numbers as defined by YAML.</td>
</tr>
<tr>
<td align="left">integer</td>
<td align="left">Value MUST be an integer. Floating point numbers are not allowed. The integer type is a subset of the number type.</td>
</tr>
<tr>
<td align="left">date</td>
<td align="left">Value MUST be a string representation of a date as defined in RFC2616 Section 3.3 [RFC2616]. See <a href="http://raml.org/spec.html#date-representations">Date Representations</a>.</td>
</tr>
<tr>
<td align="left">boolean</td>
<td align="left">Value MUST be either the string "true" or "false" (without the quotes).</td>
</tr>
<tr>
<td align="left">file</td>
<td align="left">(Applicable only to Form properties)<br><br>Value is a file. Client generators SHOULD use this type to handle file uploads correctly.</td>
</tr>
</tbody>
</table>
<a name="date-representations"></a>
<h5>Date Representations</h5>

<p>As defined in [RFC2616], all date/time stamps are represented in Greenwich Mean Time (GMT), which for the purposes of HTTP is equal to UTC (Coordinated Universal Time). This is indicated by including "GMT" as the three-letter abbreviation for the timezone. Example: <code>Sun, 06 Nov 1994 08:49:37 GMT</code>.</p>

<h3>enum</h3>

<p>(Optional, applicable only for parameters of type string)<br>
The <em>enum</em> attribute provides an enumeration of the parameter's valid values. This MUST be an array. If the <em>enum</em> attribute is defined, API clients and servers MUST verify that a parameter's value matches a value in the <em>enum</em> array. If there is no matching value, the clients and servers MUST treat this as an error.</p>

<h3>pattern</h3>

<p>(Optional, applicable only for parameters of type string)<br>
The <em>pattern</em> attribute is a regular expression that a parameter of type string MUST match. Regular expressions MUST follow the regular expression specification from ECMA 262/Perl 5. The pattern MAY be enclosed in double quotes for readability and clarity.</p>

<h3>minLength</h3>

<p>(Optional, applicable only for parameters of type string)<br>
The <em>minLength</em> attribute specifies the parameter value's minimum number of characters.</p>

<h3>maxLength</h3>

<p>(Optional, applicable only for parameters of type string)<br>
The <em>maxLength</em> attribute specifies the parameter value's maximum number of characters.</p>

<h3>minimum</h3>

<p>(Optional, applicable only for parameters of type number or integer)<br>
The <em>minimum</em> attribute specifies the parameter's minimum value.</p>

<h3>maximum</h3>

<p>(Optional, applicable only for parameters of type number or integer)<br>
The <em>maximum</em> attribute specifies the parameter's maximum value.</p>

<h3>example</h3>

<p>(Optional)<br>
The <em>example</em> attribute shows an example value for the property. This can be used, e.g., by documentation generators to generate sample values for the property.</p>

<h3>repeat</h3>

<p>(Optional)<br>
The <em>repeat</em> attribute specifies that the parameter can be repeated. If the parameter can be used multiple times, the <em>repeat</em> parameter value MUST be set to 'true'. Otherwise, the default value is 'false' and the parameter may not be repeated.</p>

<h3>required</h3>

<p>(Optional except as otherwise noted)<br>
The <em>required</em> attribute specifies whether the parameter and its value MUST be present in the API definition. It must be either 'true' if the value MUST be present or 'false' otherwise.</p>

<p>In general, parameters are optional unless the <em>required</em> attribute is included and its value set to 'true'.</p>

<p>For a URI parameter, the <em>required</em> attribute MAY be omitted, but its default value is 'true'.</p>

<h3>default</h3>

<p>(Optional)<br>
The <em>default</em> attribute specifies the default value to use for the property if the property is omitted or its value is not specified. This SHOULD NOT be interpreted as a requirement for the client to send the <em>default</em> attribute's value if there is no other value to send. Instead, the <em>default</em> attribute's value is the value the server uses if the client does not send a value.</p>

<h2>Named Parameters With Multiple Types</h2>

<p>To denote that a named parameter can have multiple types, the value of the named parameter property MAY be an array of mappings, each of which has the attributes described in this document. This mechanism for defining a parameter with multiple types is particularly useful when an API uses the same named parameter for more than one data type.</p>

<p>In the following example, the named parameter <em>file</em> can be used for sending a file or string text data to an API:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Amazon simple storage API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://{destinationBucket}.s3.amazonaws.com</span>
<span class="l-Scalar-Plain">/</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The POST operation adds an object to a specified bucket using HTML forms.</span>
    <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">application/x-www-form-urlencoded</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">formParameters</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">AWSAccessKeyId</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The AWS Access Key ID of the owner of the bucket who grants an Anonymous user access for a request that satisfies the set of constraints in the Policy.</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
          <span class="l-Scalar-Plain">acl</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Specifies an Amazon S3 access control list. If an invalid access control list is specified, an error is generated.</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
          <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
              <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Text content. The text content must be the last field in the form.</span>
            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">file</span>
              <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">File to upload. The file must be the last field in the form.</span>
</pre></div>

<h2>Basic Information</h2>

<p>This section describes the components of a RAML API definition.</p>

<h3>Root Section</h3>

<p>The root section of the format describes the basic information of an API, such as its title and base URI, and describes how to define common schema references.</p>

<p>RAML-documented API definition properties MAY appear in any order.</p>

<p>This example shows a snippet of the RAML API definition for the GitHub v3 public API.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com</span>
<span class="l-Scalar-Plain">mediaType</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">application/json</span>
<span class="l-Scalar-Plain">schemas</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">User</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">schema/user.json</span>
  <span class="l-Scalar-Plain">Users</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">schema/users.json</span>
  <span class="l-Scalar-Plain">Org</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">schema/org.json</span>
  <span class="l-Scalar-Plain">Orgs</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">schema/orgs.json</span>
</pre></div>

<h3>API Title</h3>

<p>(Required)<br>
The <em>title</em> property is a short plain text description of the RESTful API. The <em>title</em> property's value SHOULD be suitable for use as a title for the contained user documentation.</p>

<h3>API Version</h3>

<p>(Optional)<br>
If the RAML API definition is targeted to a specific API version, the API definition MUST contain a <em>version</em> property. The <em>version</em> property is OPTIONAL and should not be used if:</p>

<ul>
<li>The API itself is not versioned.</li>
<li>The API definition does not change between versions. The API architect can decide whether a change to user documentation elements, but no change to the API's resources, constitutes a version change.</li>
</ul><p>The API architect MAY use any versioning scheme so long as version numbers retain the same format. For example, "v3", "v3.0", and "V3" are all allowed, but are not considered to be equal.</p>

<h3>Base URI and baseUriParameters</h3>

<p>(Optional during development; Required after implementation)<br>
A RESTful API's resources are defined relative to the API's base URI. The use of the <em>baseUri</em> field is OPTIONAL to allow describing APIs that have not yet been implemented. After the API is implemented (even a mock implementation) and can be accessed at a service endpoint, the API definition MUST contain a <em>baseUri</em> property. The <em>baseUri</em> property's value MUST conform to the URI specification [RFC2396] or a Level 1 Template URI as defined in RFC 6570 [RFC6570].</p>

<p>The <em>baseUri</em> property SHOULD only be used as a reference value. API client generators MAY make the <em>baseUri</em> configurable by the API client's users.</p>

<p>If the <em>baseUri</em> value is a Level 1 Template URI, the following reserved base URI parameters are available for replacement:</p>

<table>
<thead><tr>
<th align="left">URI Parameter</th>
<th align="left">Value</th>
</tr></thead>
<tbody><tr>
<td align="left">version</td>
<td align="left">The content of the version field.</td>
</tr></tbody>
</table><p>Any other URI template variables appearing in the <em>baseUri</em> MAY be described explicitly within a <em>baseUriParameters</em> property at the root<br>
of the API definition. The properties of the <em>baseUriParameters</em> property are described in the <br>
Named Parameters section of this specification.</p>

<p>If a URI template variable in the base URI is not explicitly described in a <em>baseUriParameters</em> property, <br>
and is not specified in a resource-level <em>baseUriParameters</em> property, <br>
it MUST still be treated as a base URI parameter with defaults as specified in the Named Parameters <br>
section of this specification. Its type is "string", it is required, and its displayName is its name <br>
(i.e. without the surrounding curly brackets [{] and [}]).</p>

<p>The following example RAML API definition uses a Level 1 Template URI as the <em>baseUri</em>.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Salesforce Chatter REST API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v28.0</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://na1.salesforce.com/services/data/{version}/chatter</span>
</pre></div>

<p>The following example declares an explicit base URI parameter.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Amazon S3 REST API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://{bucketName}.s3.amazonaws.com</span>
<span class="l-Scalar-Plain">baseUriParameters</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">bucketName</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The name of the bucket</span>
</pre></div>

<h3>Protocols</h3>

<p>(Optional)<br>
A RESTful API can be reached HTTP, HTTPS, or both. The <em>protocols</em> property MAY be used to specify the protocols that an API supports. If the <em>protocols</em> property is not specified, the protocol specified at the <em>baseUri</em> property is used. The <em>protocols</em> property MUST be an array of strings, of values <strong>"HTTP"</strong> and/or <strong>"HTTPS"</strong>.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Salesforce Chatter REST API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v28.0</span>
<span class="l-Scalar-Plain">protocols</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">HTTP</span><span class="p-Indicator">,</span> <span class="nv">HTTPS</span> <span class="p-Indicator">]</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://na1.salesforce.com/services/data/{version}/chatter</span>
</pre></div>

<h3>Default Media Type</h3>

<p>(Optional)<br>
The media types returned by API responses, and expected from API requests that accept a body, MAY be defaulted by specifying the <em>mediaType</em> property. This property is specified at the root level of the API definition. The property's value MAY be a single string with a valid media type:</p>

<ul>
<li>One of the following YAML media types:

<ul>
<li>text/yaml</li>
<li>text/x-yaml</li>
<li>application/yaml</li>
<li>application/x-yaml*</li>
</ul>
</li>
<li>Any type from the list of IANA MIME Media Types, <a href="http://www.iana.org/assignments/media-types">http://www.iana.org/assignments/media-types</a>
</li>
<li>A custom type that conforms to the regular expression, "application\/[A-Za-z.-0-1]*+?(json|xml)"</li>
</ul><p>For any combination of resource and operation in the API, if a media type is specified as a key of the body property for that resource and operation, or if a media type is specified in the <em>mediaType</em> property, the body MUST be in the specified media types. Moreover, if the client specifies an Accepts header containing multiple media types that are allowed by the specification for the requested resource and operation, the server SHOULD return a body using the media type in the Accepts header's mediaType list.</p>

<p>This example shows an API that accepts and returns only JSON bodies.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Stormpath REST API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.stormpath.com/{version}</span>
<span class="l-Scalar-Plain">mediaType</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application/json</span>
</pre></div>

<h3>Schemas</h3>

<p>(Optional)<br>
To better achieve consistency and simplicity, the API definition SHOULD include an OPTIONAL <em>schemas</em> property in the root section. The <em>schemas</em> property specifies collections of schemas that could be used anywhere in the API definition. The value of the <em>schemas</em> property is an array of maps; in each map, the keys are the schema name, and the values are schema definitions. The schema definitions MAY be included inline or by using the RAML !include user-defined data type.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.example.com</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Filesystem API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.1</span>
<span class="l-Scalar-Plain">schemas</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">path-to-canonical-schemas/canonicalSchemas.raml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">File</span><span class="p-Indicator">:</span>       <span class="kt">!include</span> <span class="l-Scalar-Plain">path-to-schemas/filesystem/file.xsd</span>
    <span class="l-Scalar-Plain">FileUpdate</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">path-to-schemas/filesystem/fileupdate.xsd</span>
    <span class="l-Scalar-Plain">Files</span><span class="p-Indicator">:</span>      <span class="kt">!include</span> <span class="l-Scalar-Plain">path-to-schemas/filesystem/files.xsd</span>
    <span class="l-Scalar-Plain">Dir</span><span class="p-Indicator">:</span>        <span class="kt">!include</span> <span class="l-Scalar-Plain">path-to-schemas/filesystem/dir.xsd</span>
    <span class="l-Scalar-Plain">Dirs</span><span class="p-Indicator">:</span>       <span class="kt">!include</span> <span class="l-Scalar-Plain">path-to-schemas/filesystem/dirs.xsd</span>
<span class="l-Scalar-Plain">/files</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">application/xml</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Files</span>

</pre></div>

<h3>URI Parameters</h3>

<p>(Optional)<br>
In addition to the reserved URI parameters described in the <em>baseUri</em> property section, a Level 1 Template URI can feature custom URI parameters, which are useful in a variety of scenarios.  For example, let's look at the following API provider that parameterizes the base URI with customer information such as the company name.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">FreshBooks API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2.1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://{companyName}.freshbooks.com/api/{version}/xml-in</span>
</pre></div>

<p>URI parameters can be further defined by using the <em>uriParameters</em> property. The use of <em>uriParameters</em> is OPTIONAL. The <em>uriParameters</em> property MUST be a map in which each key MUST be the name of the URI parameter as defined in the <em>baseUri</em> property. The <em>uriParameters</em> CANNOT contain a key named <em>version</em> because it is a reserved URI parameter name. The value of the <em>uriParameters</em> property is itself a map that specifies the property's attributes, according to the <a href="http://raml.org/spec.html#named-parameters">Named Parameters section</a>.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Salesforce Chatter Communities REST API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v28.0</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://{communityDomain}.force.com/{communityPath}</span>
<span class="l-Scalar-Plain">uriParameters</span><span class="p-Indicator">:</span>
 <span class="l-Scalar-Plain">communityDomain</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Community Domain</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
 <span class="l-Scalar-Plain">communityPath</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Community Path</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
   <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">^[a-zA-Z0-9][-a-zA-Z0-9]*$</span>
   <span class="l-Scalar-Plain">minLength</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
</pre></div>

<h3>User Documentation</h3>

<p>(Optional)<br>
The API definition can include a variety of documents that serve as a user guides and reference documentation for the API. Such documents can clarify how the API works or provide business context.</p>

<p>Documentation-generators MUST include all the sections in an API definition's <em>documentation</em> property in the documentation output, and they MUST preserve the order in which the documentation is declared.</p>

<p>To add user documentation to the API, include the <em>documentation</em> property at the root of the API definition. The <em>documentation</em> property MUST be an array of documents. Each document MUST contain <em>title</em> and <em>content</em> attributes, both of which are REQUIRED. If the <em>documentation</em> property is specified, it MUST include at least one document.</p>

<p>Documentation-generators MUST process the content field as if it was defined using Markdown [MARKDOWN].</p>

<p>This example shows an API definition with a single user document.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api</span>
<span class="l-Scalar-Plain">documentation</span><span class="p-Indicator">:</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Home</span>
   <span class="l-Scalar-Plain">content</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
     <span class="no">Welcome to the _Zencoder API_ Documentation. The _Zencoder API_</span>
     <span class="no">allows you to connect your application to our encoding service</span>
     <span class="no">and encode videos without going through the web  interface. You</span>
     <span class="no">may also benefit from one of our</span>
     <span class="no">[integration libraries](https://app.zencoder.com/docs/faq/basics/libraries)</span>
     <span class="no">for different languages.</span>
</pre></div>

<p>The <em>documentation</em> property MAY be included inline, as described above, or by using the RAML !include user-defined data type to reference external content.</p>

<p>This example shows the same API definition (ZEncoder API), but the <em>documentation</em> property's <em>content</em> attribute is referenced as external content.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api</span>
<span class="l-Scalar-Plain">documentation</span><span class="p-Indicator">:</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Home</span>
   <span class="l-Scalar-Plain">content</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">zencoder-home.md</span>
</pre></div>

<p>There is no limit to the number of documentation pages that can be included in a RAML API definition. However, if the <em>documentation</em> property's <em>content</em> attribute is sufficiently large so as to make it difficult for a person to read the API definition, the !include user-defined data type SHOULD be used instead of including the content inline.</p>

<p>This example shows an RAML API definition with multiple documentation pages:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com</span>
<span class="l-Scalar-Plain">documentation</span><span class="p-Indicator">:</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Getting Started</span>
   <span class="l-Scalar-Plain">content</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">github-3-getting-started.md</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Basics of Authentication</span>
   <span class="l-Scalar-Plain">content</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">github-3-basics-of-authentication.md</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Rendering Data as Graphs</span>
   <span class="l-Scalar-Plain">content</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">github-3-rendering-data-as-graphs.md</span>
</pre></div>

<h3>Resources and Nested Resources</h3>

<p>Resources are identified by their relative URI, which MUST begin with a slash (/).</p>

<p>A resource defined as a root-level property is called a <em>top-level resource</em>. Its property's key is the resource's URI relative to the baseUri. A resource defined as a child property of another resource is called a <em>nested resource</em>, and its property's key is its URI relative to its parent resource's URI.</p>

<p>This example shows an API definition with one top-level resource, /gists, and one nested resource, /public.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com</span>
<span class="l-Scalar-Plain">/gists</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Gists</span>
  <span class="l-Scalar-Plain">/public</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Public Gists</span>
</pre></div>

<p>Every property whose key begins with a slash (/), and is either at the root of the API definition or is the child property of a resource property, is a resource property. The key of a resource, i.e. its relative URI, MAY consist of multiple URI path fragments separated by slashes; e.g. "/bom/items" may indicate the collection of items in a bill of materials as a single resource. However, if the individual URI path fragments are themselves resources, the API definition SHOULD use nested resources to describe this structure; e.g. if "/bom" is itself a resource then "/items" should be a nested resource of "/bom", while "/bom/items" should not be used.</p>

<h4>Display Name</h4>

<p>The <em>displayName</em> attribute provides a friendly name to the resource and can be used by documentation generation tools. The <em>displayName</em> key is OPTIONAL.</p>

<p>If the <em>displayName</em> attribute is not defined for a resource, documentation tools SHOULD refer to the resource by its property key (i.e. its relative URI, e.g., "/jobs"), which acts as the resource's name.</p>

<h4>Description</h4>

<p>Each resource, whether top-level or nested, MAY contain a <em>description</em> property that briefly describes the resource. It is RECOMMENDED that all the API definition's resources includes the <em>description</em> property.</p>

<h4>Template URIs and URI Parameters</h4>

<p>Template URIs containing URI parameters can be used to define a resource's relative URI when it contains variable elements. <br>
The following example shows a top-level resource with a key <em>/jobs</em> and a nested resource with a key <em>/{jobId}</em>:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v2</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api/{version}</span>
<span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span> <span class="c1"># its fully-resolved URI is https://app.zencoder.com/api/{version}/jobs</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Jobs</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">A collection of jobs</span>
  <span class="l-Scalar-Plain">/{jobId}</span><span class="p-Indicator">:</span> <span class="c1"># its fully-resolved URI is https://app.zencoder.com/api/{version}/jobs/{jobId}</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">A specific job, a member of the jobs collection</span>
</pre></div>

<p>The values matched by URI parameters cannot contain slash (/) characters, in order to avoid ambiguous matching. In the example above, a URI (relative to the baseUri) of "/jobs/123" matches the "/{jobId}" resource nested within the "/jobs" resource, but a URI of "/jobs/123/x" does not match any of those resources.</p>

<p>A resource MAY contain a <em>uriParameters</em> property specifying the uriParameters in that resource's relative URI, as described in the Named Parameters section of this specification. The example below shows two top-level resources (/user and /users) and a nested resource specified by its template URI, "/{userId}". The URI parameter "userId" is explicitly declared, and given a displayName "User ID" and an integer type.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com</span>
<span class="l-Scalar-Plain">/user</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Authenticated User</span>
<span class="l-Scalar-Plain">/users</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Users</span>
  <span class="l-Scalar-Plain">/{userId}</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">User</span>
   <span class="l-Scalar-Plain">uriParameters</span><span class="p-Indicator">:</span>
     <span class="l-Scalar-Plain">userId</span><span class="p-Indicator">:</span>
       <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">User ID</span>
       <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
</pre></div>

<p>If a URI parameter in a resource's relative URI is not explicitly described in a uriParameters property for that resource, it MUST still be treated as a URI parameter with defaults as specified in the Named Parameters section of this specification. Its type is "string", it is required, and its displayName is its name (i.e. without the surrounding curly brackets [{] and [}]). In the example below, the top-level resource has two URI parameters, "folderId" and "fileId".</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Flat Filesystem API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">/files</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">A collection of all files</span>
  <span class="l-Scalar-Plain">/folder_{folderId}-file_{fileId}</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">An item in the collection of all files</span>
</pre></div>

<p>A special uriParameter, <em>mediaTypeExtension</em>, is a reserved parameter. It may be specified explicitly in a uriParameters property or not specified explicitly, but its meaning is reserved: it is used by a client to specify that the body of the request or response be of the associated media type. By convention, a value of .json is equivalent to an Accept header of application/json and .xml is equivalent to an Accept header of text/xml. If this parameter is used, clients may specify the media type of a request/response via the URI rather than via the Accept HTTP header. For example, in the following example, the /users resource could be represented as application/json or text/xml:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">API Using media type in the URL</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">/users{mediaTypeExtension}</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">uriParameters</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">mediaTypeExtension</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">enum</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">.json</span><span class="p-Indicator">,</span> <span class="nv">.xml</span> <span class="p-Indicator">]</span>
      <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Use .json to specify application/json or .xml to specify text/xml</span>
</pre></div>

<p>Although URI parameters can be explicitly specified to be optional, they SHOULD be required when they are surrounded directly by slashes (/), that is, when they constitute complete URI path fragments, e.g. ".../{objectId}/...". It usually makes little sense to allow a URI to contain adjacent slashes with no characters between them, e.g. "...//...". Hence, a URI parameter should only be specified as optional when it appears adjacent to other text; e.g., "/people/~{fieldSelectors}" indicates that the "{fieldSelectors}"" URI parameter can be blank, and therefore optional, indicating that "/people/~" is a valid relative URI.</p>

<h4>Base URI parameters</h4>

<p>A resource or a method can override a base URI template's values. This is useful to restrict or change the default or parameter selection in the base URI. The <em>baseUriParameters</em> property MAY be used to override any or all parameters defined at the root level <em>baseUriParameters</em> property, as well as base URI parameters not specified at the root level.</p>

<p>In the following example, calls to the /files resource must be made to "<a href="https://api-content.dropbox.com/%7Bversion%7D">https://api-content.dropbox.com/{version}</a>". All other calls in the API are made to "<a href="https://api.dropbox.com/%7Bversion%7D">https://api.dropbox.com/{version}</a>".</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Dropbox API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://{apiDomain}.dropbox.com/{version}</span>
<span class="l-Scalar-Plain">baseUriParameters</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">apiDomain</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">The sub-domain at which the API is accessible. Most API calls are sent to https://api.dropbox.com</span>
    <span class="l-Scalar-Plain">enum</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="s">"api"</span> <span class="p-Indicator">]</span>
<span class="l-Scalar-Plain">/account/info</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Account Information</span>
<span class="l-Scalar-Plain">/files</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Download files</span>
  <span class="l-Scalar-Plain">baseUriParameters</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">apiDomain</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">enum</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="s">"api-content"</span> <span class="p-Indicator">]</span>
</pre></div>

<p>The special baseUriParameter <em>version</em> is reserved; processing applications MUST replace occurrences of {version} in any baseUri property values with the value of the root-level <em>version</em> property. The {version} parameter, if used in a baseUri, is required: if it is ued in a baseUri, the <em>version</em> root-level property MUST be provided and MUST be a valid non-empty URI fragment. </p>

<h4>Absolute URI</h4>

<p>Absolute URIs are not explicitly specified. They are computed by starting with the baseUri and appending the relative URI of the top-level resource, and then successively appending the relative URI values for each nested resource until the target resource is reached.</p>

<p>Taking the previous example, the absolute URI of the public gists resource is formed as follows:</p>

<pre><code>   "https://api.github.com"               &lt;--- baseUri
               +
             "/gists"                     &lt;--- gists resource relative URI
               +
             "/public"                    &lt;--- public gists resource relative URI
               =
"https://api.github.com/gists/public"     &lt;--- public gists absolute URI
</code></pre>

<p>A nested resource can itself have a child (nested) resource, creating a multiply-nested resource.</p>

<p>In this example, /user is a top-level resource that has no children; /users is a top-level resource that has a nested resource, /{userId}; and the nested resource, /{userId}, has three nested resources, /followers, /following, and /keys.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com</span>
<span class="l-Scalar-Plain">/user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">/users</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">/{userId}</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">uriParameters</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">userId</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
    <span class="l-Scalar-Plain">/followers</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">/following</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">/keys</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">/{keyId}</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">uriParameters</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">keyId</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
</pre></div>

<p>The computed absolute URIs for the resources, in the same order as their resource declarations, are:</p>

<pre><code>https://api.github.com/user
https://api.github.com/users
https://api.github.com/users/{userId}
https://api.github.com/users/{userId}/followers
https://api.github.com/users/{userId}/following
https://api.github.com/users/{userId}/keys
https://api.github.com/users/{userId}/keys/{keyId}
</code></pre>

<h4>Methods</h4>

<p>In a RESTful API, <em>methods</em> are operations that are performed on a resource. A method MUST be one of the HTTP methods defined in the HTTP version 1.1 specification [RFC2616] and its extension, RFC5789 [RFC5789].</p>

<h5>Description</h5>

<p>Each declared method MAY contain a <em>description</em> attribute that briefly describes what the method does to the resource. It is RECOMMENDED that all API definition methods include the <em>description</em> property.</p>

<p>This example shows a resource, /jobs, with POST and GET methods (verbs) declared:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v2</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api/{version}</span>
<span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">List Jobs</span>
</pre></div>

<p>The value of the <em>description</em> property MAY be formatted using Markdown [MARKDOWN].</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v2</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api/{version}</span>
<span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">The post body must include the _URL_ of the video to process. It may</span>
      <span class="no">also include output settings for the job, including an output</span>
      <span class="no">destination, notification settings, and transcoding settings.</span>

      <span class="no">We currently support downloading files using HTTP/HTTPS, S3,</span>
      <span class="no">Cloud Files, FTP/FTPS, SFTP, and Aspera.</span>
      <span class="no">When you create a new encoding job through the API, our server</span>
      <span class="no">will immediately respond with details about the job and output</span>
      <span class="no">files being created. You should store the job and outputs IDs</span>
      <span class="no">to track them through the encoding process.</span>
</pre></div>

<h5>Headers</h5>

<p>An API's methods MAY support or require non-standard HTTP headers. In the API definition, specify the non-standard HTTP headers by using the <em>headers</em> property.</p>

<p>The <em>headers</em> property is a map in which the key is the name of the header, and the value is itself a map specifying the header attributes, according to the <a href="http://raml.org/spec.html#named-parameters">Named Parameters section</a>.</p>

<p>This example shows a POST method with an HTTP header.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v2</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api/{version}</span>
<span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
    <span class="l-Scalar-Plain">headers</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">Zencoder-Api-Key</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API Key</span>
</pre></div>

<p>If the header name contains the placeholder token {<em>}, processing applications MUST allow requests to send any number of headers that conform to the format specified, with {</em>} replaced by 0 or more valid header characters, and offer a way for implementations to add an arbitrary number of such headers. This is particularly useful for APIs that allow HTTP headers that conform to custom naming conventions to send arbitrary, custom data.</p>

<p>In the following example, the header x-metadata-{*} is used to send metadata that will be saved with the job.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v2</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api/{version}</span>
<span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
    <span class="l-Scalar-Plain">headers</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">Zencoder-Api-Key</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API Key</span>
      <span class="l-Scalar-Plain">x-Zencoder-job-metadata-{*}</span>
        <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Job Metadata</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
           <span class="no">Field names prefixed with x-Zencoder-job-metadata- contain user-specified metadata. </span>
           <span class="no">The API does not validate or use this data. All metadata headers will be stored </span>
           <span class="no">with the job and returned to the client when this resource is queried.</span>
</pre></div>

<h6>Example</h6>

<p>Documentation generators MUST include content specified as example information for headers. This information is included in the API definition by using the <em>example</em> property.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ZEncoder API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v2</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://app.zencoder.com/api/{version}</span>
<span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
    <span class="l-Scalar-Plain">headers</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">Zencoder-Api-Key</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">The API key for your Zencoder account. You can find your API key at</span>
          <span class="no">https://app.zencoder.com/api. You can also regenerate your API key on</span>
          <span class="no">that page.</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
        <span class="l-Scalar-Plain">minLength</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">30</span>
        <span class="l-Scalar-Plain">maxLength</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">30</span>
        <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">abcdefghijabcdefghijabcdefghij</span>
</pre></div>

<h5>Protocols</h5>

<p>A method can override an API's <em>protocols</em> value for that single method by setting a different value for the fields. </p>

<p>In the following example, the GET method is accessible through both HTTP and HTTPS, while the rest of the API only through HTTPS.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Twitter API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1.1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.twitter.com/{version}</span>
<span class="l-Scalar-Plain">/search/tweets.json</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Tweet Search</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Returns a collection of relevant Tweets matching a specified query</span>
    <span class="l-Scalar-Plain">protocols</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">HTTP</span><span class="p-Indicator">,</span> <span class="nv">HTTPS</span><span class="p-Indicator">]</span>
</pre></div>

<h5>Query Strings</h5>

<p>An API's resources MAY be filtered (to return a subset of results) or altered (such as transforming a response body from JSON to XML format) by the use of query strings. If the resource or its method supports a query string, the query string MUST be defined by the <em>queryParameters</em> property. </p>

<p>The <em>queryParameters</em> property is a map in which the key is the query parameter's name, and the value is itself a map specifying the query parameter's attributes, according to the <a href="http://raml.org/spec.html#named-parameters">Named Parameters section</a>.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com</span>
<span class="l-Scalar-Plain">/users</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Get a list of users</span>
    <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">page</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
      <span class="l-Scalar-Plain">per_page</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
</pre></div>

<h6>Example</h6>

<p>Query string <em>queryParameters</em> properties MAY include an <em>example</em> attribute. Documentation generators MUST use <em>example</em> attributes to generate example invocations.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com/{version}</span>
<span class="l-Scalar-Plain">/users</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Get a list of users</span>
    <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">page</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Specify the page that you want to retrieve</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
        <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
      <span class="l-Scalar-Plain">per_page</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Specify the amount of items that will be retrieved per page</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
        <span class="l-Scalar-Plain">minimum</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">10</span>
        <span class="l-Scalar-Plain">maximum</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">200</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">30</span>
        <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">50</span>
</pre></div>

<a name="body"></a>
<h5>Body</h5>

<p>Some method verbs expect the resource to be sent as a request body. For example, to create a resource, the request must include the details of the resource to create.</p>

<p>Resources CAN have alternate representations. For example, an API might support both JSON and XML representations.</p>

<p>A method's body is defined in the <em>body</em> property as a hashmap, in which the key MUST be a valid media type.</p>

<p>This example shows a snippet of the Zencoder API's Jobs resource, which accepts input as either JSON or XML:</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
    <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">text/xml</span><span class="p-Indicator">:</span> <span class="kt">!!null</span>
      <span class="l-Scalar-Plain">application/json</span><span class="p-Indicator">:</span> <span class="kt">!!null</span>
</pre></div>

<h6>Web Forms</h6>

<p>Web forms REQUIRE special encoding and custom declaration.</p>

<p>If the API's media type is either <em>application/x-www-form-urlencoded</em> or <em>multipart/form-data</em>, the <em>formParameters</em> property MUST specify the name-value pairs that the API is expecting.</p>

<p>The <em>formParameters</em> property is a map in which the key is the name of the web form parameter, and the value is itself a map the specifies the web form parameter's attributes, according to the <a href="http://raml.org/spec.html#named-parameters">Named Parameters section</a>.</p>

<h6>Example</h6>

<p>Documentation generators MUST use <em>form</em> properties' <em>example</em> attributes to generate example invocations.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Twilio API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2010-04-01</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.twilio.com/{version}</span>
<span class="l-Scalar-Plain">/Accounts</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">/{AccountSid}</span><span class="p-Indicator">:</span>
     <span class="l-Scalar-Plain">uriParameters</span><span class="p-Indicator">:</span>
       <span class="l-Scalar-Plain">AccountSid</span><span class="p-Indicator">:</span>
         <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
           <span class="no">An Account instance resource represents a single Twilio account.</span>
         <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
     <span class="l-Scalar-Plain">/Calls</span><span class="p-Indicator">:</span>
       <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
         <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
           <span class="no">Using the Twilio REST API, you can make outgoing calls to phones,</span>
           <span class="no">SIP-enabled endpoints and Twilio Client connections.</span>

           <span class="no">Note that calls initiated via the REST API are rate-limited to one per</span>
           <span class="no">second. You can queue up as many calls as you like as fast as you like,</span>
           <span class="no">but each call is popped off the queue at a rate of one per second.</span>
         <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
           <span class="l-Scalar-Plain">application/x-www-form-urlencoded</span><span class="p-Indicator">:</span>
             <span class="l-Scalar-Plain">formParameters</span><span class="p-Indicator">:</span>
               <span class="l-Scalar-Plain">From</span><span class="p-Indicator">:</span>
                 <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
                   <span class="no">The phone number or client identifier to use as the caller id. If</span>
                   <span class="no">using a phone number, it must be a Twilio number or a Verified</span>
                   <span class="no">outgoing caller id for your account.</span>
                 <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
                 <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
                 <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">(\+1|1)?([2-9]\d\d[2-9]\d{6})</span> <span class="c1"># E.164 standard</span>
                 <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">+14158675309</span>
</pre></div>

<h6>Schema</h6>

<p>The structure of a request or response body MAY be further specified by the <em>schema</em> property under the appropriate media type.</p>

<p>The <em>schema</em> key CANNOT be specified if a body's media type is <em>application/x-www-form-urlencoded</em> or <em>multipart/form-data</em>.</p>

<p>All parsers of RAML MUST be able to interpret JSON Schema [JSON_SCHEMA] and XML Schema [XML_SCHEMA].</p>

<p>Schema MAY be declared inline or in an external file. However, if the schema is sufficiently large so as to make it difficult for a person to read the API definition, or the schema is reused across multiple APIs or across multiple miles in the same API, the !include user-defined data type SHOULD be used instead of including the content inline.</p>

<p>This example shows an inline schema declaration.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Jobs</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
    <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">text/xml</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">&lt;xs:schema attributeFormDefault="unqualified"</span>
                     <span class="no">elementFormDefault="qualified"</span>
                     <span class="no">xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;</span>
            <span class="no">&lt;xs:element name="api-request"&gt;</span>
              <span class="no">&lt;xs:complexType&gt;</span>
                <span class="no">&lt;xs:sequence&gt;</span>
                  <span class="no">&lt;xs:element type="xs:string" name="input"/&gt;</span>
                <span class="no">&lt;/xs:sequence&gt;</span>
              <span class="no">&lt;/xs:complexType&gt;</span>
            <span class="no">&lt;/xs:element&gt;</span>
          <span class="no">&lt;/xs:schema&gt;</span>
      <span class="l-Scalar-Plain">application/json</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">{</span>
            <span class="no">"$schema": "http://json-schema.org/draft-03/schema",</span>
            <span class="no">"properties": {</span>
                <span class="no">"input": {</span>
                    <span class="no">"required": false,</span>
                    <span class="no">"type": "string"</span>
                <span class="no">}</span>
            <span class="no">},</span>
            <span class="no">"required": false,</span>
            <span class="no">"type": "object"</span>
          <span class="no">}</span>
</pre></div>

<p>Alternatively, the value of the <em>schema</em> field MAY be the name of a schema specified in the root-level <em>schemas</em> property (see <a href="http://raml.org/spec.html#named-parameters">Named Parameters</a>, or it MAY be declared in an external file and included by using the by using the RAML !include user-defined data type.</p>

<p>This example repeats the /jobs resource definition, but with the schemas defined in the external files job.xsd and job.schema.json.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Jobs</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
    <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">text/xml</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">job.xsd</span>
      <span class="l-Scalar-Plain">application/json</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">job.schema.json</span>
</pre></div>

<h6>Example</h6>

<p>Documentation generators MUST use <em>body</em> properties' <em>example</em> attributes to generate example invocations.</p>

<p>This example shows example attributes for two <em>body</em> property media types.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/jobs</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Jobs</span>
  <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a Job</span>
    <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">text/xml</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">job.xsd</span>
        <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">&lt;api-request&gt;</span>
            <span class="no">&lt;input&gt;s3://zencodertesting/test.mov&lt;/input&gt;</span>
          <span class="no">&lt;/api-request&gt;</span>
      <span class="l-Scalar-Plain">application/json</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">job.schema.json</span>
        <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">{</span>
            <span class="no">"input": "s3://zencodertesting/test.mov"</span>
          <span class="no">}</span>
</pre></div>

<h5>Responses</h5>

<p>Resource methods MAY have one or more responses. Responses MAY be described using the <em>description</em> property, and MAY include <em>example</em> attributes or <em>schema</em> properties.</p>

<p>This example shows a definition for a GET response of 200.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/media/popular</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Most Popular Media</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">Get a list of what media is most popular at the moment.</span>
    <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">application/json</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">examples/instagram-v1-media-popular-example.json</span>
</pre></div>

<p>Responses MUST be a map of one or more HTTP status codes, where each status code itself is a map that describes that status code.</p>

<p>Each response MAY contain a <em>body</em> property, which conforms to the same structure as request <em>body</em> properties (see <a href="http://raml.org/spec.html#body">Body</a>). Responses that can return more than one response code MAY therefore have multiple bodies defined.</p>

<p>For APIs without <em>a priori</em> knowledge of the response types for their responses, "*/*" MAY be used to indicate that responses that do not matching other defined data types MUST be accepted. Processing applications MUST match the most descriptive media type first if "*/*" is used.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/media/{mediaid}/content</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Content</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">Get a media file.</span>
    <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
          <span class="s">"*/*"</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
                <span class="no">Returns the media file.</span>
</pre></div>

<p>Responses MAY contain a <em>description</em> property that further clarifies why the response was emitted. Response descriptions are particularly useful for describing error conditions.</p>

<p>This example shows an error declaration.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/media/popular</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Most Popular Media</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">Get a list of what media is most popular at the moment.</span>
    <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">503</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">The service is currently unavailable or you exceeded the maximum requests</span>
          <span class="no">per hour allowed to your application.</span>
</pre></div>

<p>This example shows a resource GET method that responds with separate codes and bodies for success and error conditions. The error condition body includes a description attribute that describes the problem.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/media/popular</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Most Popular Media</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">Get a list of what media is most popular at the moment.</span>
    <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">application/json</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">instagram-v1-media-popular.schema.json</span>
      <span class="l-Scalar-Plain">503</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">The service is currently unavailable or you exceeded the maximum requests</span>
          <span class="no">per hour allowed to your application.</span>
        <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">application/json</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">instagram-v1-meta-error.schema.json</span>
</pre></div>

<h6>Headers</h6>

<p>An API's methods may support custom header values in responses. The custom, non-standard HTTP headers MUST be specified by the <em>headers</em> property.</p>

<p>The <em>headers</em> property is a map in which the key is the name of the header, and the value is itself a map specifying the header attributes, according to the <a href="http://raml.org/spec.html#named-parameters">Named Parameters section</a>.</p>

<p>This example shows a 503 error response that includes a custom header.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/media/popular</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Most Popular Media</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">Get a list of what media is most popular at the moment.</span>
    <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">503</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">The service is currently unavailable or you exceeded the maximum requests</span>
          <span class="no">per hour allowed to your application.</span>
        <span class="l-Scalar-Plain">headers</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">X-waiting-period</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
              <span class="no">The number of seconds to wait before you can attempt to make a request again.</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
            <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
            <span class="l-Scalar-Plain">minimum</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
            <span class="l-Scalar-Plain">maximum</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">3600</span>
            <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">34</span>
</pre></div>

<p>Documentation generators MUST include content specified as example information for headers. This information is included in the API definition by using the <em>example</em> property.</p>

<p>API's may include the the placeholder token {?} in a header name to indicate that any number of headers that conform to the specified format can be sent in responses. This is particularly useful for APIs that allow HTTP headers that conform to some naming convention to send arbitrary, custom data.</p>

<p>In the following example, the header x-metadata-{?} is used to send metadata that has been saved with the media.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">/media/popular</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">displayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Most Popular Media</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">Get a list of what media is most popular at the moment.</span>
    <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">The list of popular media.</span>
        <span class="l-Scalar-Plain">headers</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">x-meta-{?}</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
              <span class="no">Field names prefixed with x-meta- contain user-specified metadata.</span>
</pre></div>

<h3>Resource Types and Traits</h3>

<p>Resource and method declarations are frequently repetitive. For example, if an API requires OAuth authentication, the API definition must include the <em>access_token</em> query string parameter (which is defined by the <em>queryParameters</em> property) in all the API's resource method declarations.</p>

<p>Moreover, there are many advantages to reusing patterns across multiple resources and methods. For example, after defining a collection-type resource's characteristics, that definition can be applied to multiple resources. This use of patterns encouraging consistency and reduces complexity for both servers and clients.</p>

<p>A <em>resource type</em> is a partial resource definition that, like a resource, can specify a description and methods and their properties. Resources that use a resource type inherit its properties, such as its methods.</p>

<p>A <em>trait</em> is a partial method definition that, like a method, can provide method-level properties such as description, headers, query string parameters, and responses. Methods that use one or more traits inherit those traits' properties.</p>

<p>Resources may specify the resource type from which they inherit using the <em>type</em> property. The resource type may be defined inline as the value of the <em>type</em> property (directly or via an !include), or the value of the <em>type</em> property may be the name of a resource type defined within the root-level <em>resourceTypes</em> property.</p>

<p>Similarly, methods may specify one or more traits from which they inherit using the <em>is</em> property. A resource may also use the <em>is</em> property to apply the list of traits to all its methods. The value of the <em>is</em> property is an array of traits. Each trait element in that array may be defined inline (directly or via an !include), or it may be the name of a trait defined within the root-level <em>traits</em> property.</p>

<p>Resource type definitions MUST NOT incorporate nested resources; they cannot be used to generate nested resources when they are applied to a resource, and they do not apply to its existing nested resources.</p>

<h4>Declaration</h4>

<p>The <em>resourceTypes</em> and <em>traits</em> properties are declared at the API definition's root level with the <em>resourceTypes</em> and <em>traits</em> property keys, respectively. The value of each of these properties is an array of maps; in each map, the keys are resourceType or trait names, and the values are resourceType or trait definitions, respectively.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">collection</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">usage</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">This resourceType should be used for any collection of items</span>
      <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The collection of &lt;&lt;resourcePathName&gt;&gt;</span>
      <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Get all &lt;&lt;resourcePathName&gt;&gt;, optionally filtered</span>
      <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Create a new &lt;&lt;resourcePathName | !singularize&gt;&gt;</span>
<span class="l-Scalar-Plain">traits</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">secured</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">usage</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Apply this to any method that needs to be secured</span>
      <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Some requests require authentication.</span>
      <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">access_token</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Access Token</span>
          <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
          <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ACCESS_TOKEN</span>
          <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>

<p>The following example builds on the previous one, but the the resource types and traits are defined in external files that are included by using the RAML !include data type.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span>
   <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">collection</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">resourceTypes/collection.yaml</span>
   <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">member</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">resourceTypes/member.yaml</span>
<span class="l-Scalar-Plain">traits</span><span class="p-Indicator">:</span>
   <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">secured</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">traits/secured.yaml</span>
   <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">rateLimited</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">traits/rate-limited.yaml</span>
</pre></div>

<p>This example can be further shortened to:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example API</span>

<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">allResourceTypes.yaml</span> <span class="c1"># where allResourceTypes.yaml is an array of maps of resource type definitions</span>
<span class="l-Scalar-Plain">traits</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">allTraits.yaml</span>  <span class="c1"># where allTraits.yaml is an array of maps of trait definitions</span>
</pre></div>

<p>Collections of resourceTypes may also be combined, as can collections of traits. Some possibilities are shown in the following example:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">standardResourceTypes.yaml</span>  <span class="c1"># where standardResourceTypes.yaml is a map of standard resource type definitions</span>
  <span class="p-Indicator">-</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">resourceTypes/specialCollection.yaml</span> <span class="c1"># where specialCollection.yaml defines one resource type</span>
<span class="l-Scalar-Plain">traits</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">standardTraits.yaml</span>  <span class="c1"># where standardTraits.yaml is a map of standard trait definitions</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">paged</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">start</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">number</span>
    <span class="l-Scalar-Plain">searchable</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">query</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
</pre></div>

<h5>Usage</h5>

<p>The <em>usage</em> property of a resource type or trait is used to describe how the resource type or trait should be used. Documentation generators MUST convey this property as characteristics of the resource and method, respectively. However, the resources and methods MUST NOT inherit the <em>usage</em> property: neither resources nor methods allow a property named <em>usage</em>.</p>

<h5>Parameters</h5>

<p>The definitions of resource types and traits MAY contain parameters, whose values MUST be specified when applying the resource type or trait, UNLESS the parameter corresponds to a reserved parameter name, in which case its value is provided by the processing application (whatever is consuming the API definition).</p>

<p>Parameters MUST be indicated in resource type and trait definitions by double angle brackets (double chevrons) enclosing the parameter name; for example, "&lt;&lt;tokenName&gt;&gt;".</p>

<p>Parameters MUST be of type string.</p>

<p>In resource type definitions, there are two reserved parameter names: <em>resourcePath</em> and <em>resourcePathName</em>. The processing application MUST set the values of these reserved parameters to the inheriting resource's path (for example, "/users") and the part of the path following the rightmost "/" (for example, "users"), respectively. Processing applications MUST also omit the value of any <em>mediaTypeExtension</em> found in the resource's URI when setting <em>resourcePath</em> and <em>resourcePathName</em>.</p>

<p>In trait definitions, there is one reserved parameter name, <em>methodName</em>, in addition to the <em>resourcePath</em> and <em>resourcePathName</em>. The processing application MUST set the value of the <em>methodName</em> parameter to the inheriting method's name. The processing application MUST set the values of the <em>resourcePath</em> and <em>resourcePathName</em> parameters the same as in resource type definitions.</p>

<p>Parameter values MAY further be transformed by applying one of the following functions:</p>

<ul>
<li>The <em>!singularize</em> function MUST act on the value of the parameter by a locale-specific singularization of its original value. The only locale supported by this verion of RAML is United States English.</li>
<li>The <em>!pluralize</em> function MUST act on the value of the parameter by a locale-specific pluralization of its original value. The only locale supported by this verion of RAML is United States English.</li>
</ul><p>To apply functions, append them to the parameter name within the double angle brackets, separated from the parameter name with a | (pipe) character and optional whitespace padding. Here is an example that uses both as well as reserved parameters:</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">mediaType</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application/json</span>
<span class="l-Scalar-Plain">schemas</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">users</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">schemas/users.json</span>
  <span class="l-Scalar-Plain">user</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">schemas/user.json</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">collection</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;&lt;resourcePathName&gt;&gt;</span> <span class="c1"># e.g. users</span>
      <span class="l-Scalar-Plain">post</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;&lt;resourcePathName | !singularize&gt;&gt;</span>  <span class="c1"># e.g. user</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">member</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">200</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">schema</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;&lt;resourcePathName&gt;&gt;</span> <span class="c1"># e.g. user</span>
<span class="l-Scalar-Plain">traits</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">secured</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Some requests require authentication</span>
      <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">&lt;&lt;methodName&gt;&gt;</span><span class="p-Indicator">:</span> <span class="c1"># e.g. get:</span>
          <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">A &lt;&lt;methodName&gt;&gt; name-value pair must be provided for this request to succeed.</span>  <span class="c1"># e.g. A get name-value...</span>
          <span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;&lt;methodName&gt;&gt;=h8duh3uhhu38</span>   <span class="c1"># e.g. get=h8duh3uhhu38</span>
</pre></div>

<p>Parameters may not be used within !include tags, that is, within the location of the file to be included. This will be reconsidered for future versions of RAML.</p>

<h5>Optional Properties</h5>

<p>When defining resource types and traits, it can be useful to capture patterns that manifest several levels below the inheriting resource or method, without requiring the creation of the intermediate levels. For example, a resource type definition may describe a body parameter that will be used <em>if</em> the API defines a post method for that resource, but the processing application should not create the post method itself. </p>

<p>To accommodate this need, a resource type or trait definition MAY append a question mark ("?") suffix to the name of any property that should not be applied if it doesn't already exist in the resource or method at the corresponding level. This optional structure key indicates that the value of the property should be applied if the property name itself (without the question mark) is already defined (whether explicitly or implicitly) at the corresponding level in that resource or method.</p>

<p>The following example shows an optional <em>post?</em> property that defines a body parameter called createAuthority. If the inheriting resource defines a <em>post</em> method, it will include the createAuthority property in its body. Likewise, if the inheriting resource defines a <em>delete</em> method, it will include the deleteAuthority property in its body.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example of Optional Properties</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">auditableResource</span>
      <span class="l-Scalar-Plain">post?</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">createAuthority</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
              <span class="no">If the resource has a post method defined, expect a createAuthority </span>
              <span class="no">property in its body</span>
    <span class="-Error">  </span><span class="l-Scalar-Plain">delete?</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">body</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">deleteAuthority</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
              <span class="no">If the resource has a delete method defined, expect a deleteAuthority </span>
              <span class="no">property in its body</span>
</pre></div>

<h4>Applying Resource Types and Traits</h4>

<p>To apply a resource type definition to a resource, so that the resource inherits the resource type's characteristics, the resource MUST be defined using the <em>type</em> attribute. The value of the <em>type</em> attribute MUST be either a) one and only one of the resource type keys (names) included in the <em>resourceTypes</em> declaration, or b) one and only one resource type definition map.</p>

<p>To apply a trait definition to a method, so that the method inherits the trait's characteristics, the method MUST be defined by using the <em>is</em> attribute. The value of the <em>is</em> attribute MUST be an array of any number of elements, each of which MUST be a) one or more trait keys (names) included in the <em>traits</em> declaration, or b) one or more trait definition maps.</p>

<p>A trait may also be applied to a resource by using the <em>is</em> key, which is equivalent to applying the trait to all methods for that resource, whether declared explicitly in the resource definition or inherited from a resource type.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">collection</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">resourceTypes/collection.yaml</span>
    <span class="l-Scalar-Plain">member</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">resourceTypes/member.yaml</span>
<span class="l-Scalar-Plain">traits</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">secured</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">traits/secured.yaml</span>
    <span class="l-Scalar-Plain">paged</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">traits/paged.yaml</span>
    <span class="l-Scalar-Plain">rateLimited</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">traits/rate-limited.yaml</span>
<span class="l-Scalar-Plain">/users</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">collection</span>
  <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">secured</span> <span class="p-Indicator">]</span> <span class="c1"># if collection defines a post method, that method is also secured</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">paged</span><span class="p-Indicator">,</span> <span class="nv">rateLimited</span> <span class="p-Indicator">]</span>
</pre></div>

<p>To pass parameter values to resource types and traits, use a map when declaring the resource type or trait to be used. </p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Example API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v1</span>
<span class="l-Scalar-Plain">resourceTypes</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">searchableCollection</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">&lt;&lt;queryParamName&gt;&gt;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Return &lt;&lt;resourcePathName&gt;&gt; that have their &lt;&lt;queryParamName&gt;&gt; matching the given value</span>
          <span class="l-Scalar-Plain">&lt;&lt;fallbackParamName&gt;&gt;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">If no values match the value given for &lt;&lt;queryParamName&gt;&gt;, use &lt;&lt;fallbackParamName&gt;&gt; instead</span>
<span class="l-Scalar-Plain">traits</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">secured</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">&lt;&lt;tokenName&gt;&gt;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">A valid &lt;&lt;tokenName&gt;&gt; is required</span>
    <span class="l-Scalar-Plain">paged</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">numPages</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The number of pages to return, not to exceed &lt;&lt;maxPages&gt;&gt;</span>
<span class="l-Scalar-Plain">/books</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">searchableCollection</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">queryParamName</span><span class="p-Indicator">:</span> <span class="nv">title</span><span class="p-Indicator">,</span> <span class="nv">fallbackParamName</span><span class="p-Indicator">:</span> <span class="nv">digest_all_fields</span> <span class="p-Indicator">}</span> <span class="p-Indicator">}</span>
  <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">secured</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">tokenName</span><span class="p-Indicator">:</span> <span class="nv">access_token</span> <span class="p-Indicator">},</span> <span class="nv">paged</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">maxPages</span><span class="p-Indicator">:</span> <span class="nv">10</span> <span class="p-Indicator">}</span> <span class="p-Indicator">]</span>
</pre></div>

<h2>Security</h2>

<p>Most REST APIs have one or more mechanisms to secure data access, identify requests, and determine access level and data visibility.</p>

<p>This section describes how an API designer MAY include security scheme definitions in RAML API definitions. This section also outlines the support Documentation that Client and Server implementation generators SHOULD include.</p>

<h3>Declaration</h3>

<p>The <em>securitySchemes</em> property is declared at the API's root level. </p>

<p>The <em>securitySchemes</em> property MUST be used to specify an API's security mechanisms, including the required settings and the authentication methods that the API supports.<br>
one authentication method is allowed if the API supports them.</p>

<p>In this example, the Dropbox API supports authentication via OAuth 2.0 and OAuth 1.0.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Dropbox API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.dropbox.com/{version}/</span>
<span class="l-Scalar-Plain">securitySchemes</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">oauth_2_0</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
            <span class="no">Dropbox supports OAuth 2.0 for authenticating all API requests.</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">OAuth 2.0</span>
        <span class="l-Scalar-Plain">describedBy</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">headers</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">Authorization</span><span class="p-Indicator">:</span>
                    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
                       <span class="no">Used to send a valid OAuth 2 access token. Do not use </span>
                       <span class="no">with the "access_token" query string parameter.</span>
                    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
            <span class="l-Scalar-Plain">queryParameters</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">access_token</span><span class="p-Indicator">:</span>
                    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
                       <span class="no">Used to send a valid OAuth 2 access token. Do not use together with </span>
                       <span class="no">the "Authorization" header</span>
                    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
            <span class="l-Scalar-Plain">responses</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">401</span><span class="p-Indicator">:</span>
                    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
                        <span class="no">Bad or expired token. This can happen if the user or Dropbox</span>
                        <span class="no">revoked or expired an access token. To fix, you should re-</span>
                        <span class="no">authenticate the user.</span>
                <span class="l-Scalar-Plain">403</span><span class="p-Indicator">:</span>
                    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
                        <span class="no">Bad OAuth request (wrong consumer key, bad nonce, expired</span>
                        <span class="no">timestamp...). Unfortunately, re-authenticating the user won't help here.</span>
        <span class="l-Scalar-Plain">settings</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">authorizationUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://www.dropbox.com/1/oauth2/authorize</span>
          <span class="l-Scalar-Plain">accessTokenUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.dropbox.com/1/oauth2/token</span>
          <span class="l-Scalar-Plain">authorizationGrants</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">code</span><span class="p-Indicator">,</span> <span class="nv">token</span> <span class="p-Indicator">]</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">oauth_1_0</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description:|</span>
            <span class="l-Scalar-Plain">OAuth 1.0 continues to be supported for all API requests, but OAuth 2.0 is now preferred.</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">OAuth 1.0</span>
        <span class="l-Scalar-Plain">settings</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">requestTokenUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.dropbox.com/1/oauth/request_token</span>
          <span class="l-Scalar-Plain">authorizationUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://www.dropbox.com/1/oauth/authorize</span>
          <span class="l-Scalar-Plain">tokenCredentialsUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.dropbox.com/1/oauth/access_token</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">customHeader</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">description:|</span>
            <span class="l-Scalar-Plain">A custom</span>
</pre></div>

<h5>Description</h5>

<p>The <em>description</em> attribute MAY be used to describe a <em>securitySchemes</em> property.</p>

<h5>Type</h5>

<p>The <em>type</em> attribute MAY be used to convey information about authentication flows and mechanisms to processing applications such as Documentation Generators and Client generators. Processing applications SHOULD provide handling for the following schemes:</p>

<table>
<thead><tr>
<th align="left">Type</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="left">OAuth 1.0</td>
<td align="left">The API's authentication requires using OAuth 1.0 as described in RFC5849 [RFC5849]</td>
</tr>
<tr>
<td align="left">OAuth 2.0</td>
<td align="left">The API's authentication requires using OAuth 2.0 as described in RFC6749 [RFC6749]</td>
</tr>
<tr>
<td align="left">Basic Authentication</td>
<td align="left">The API's authentication relies on using Basic Access Authentication as described in RFC2617 [RFC2617]</td>
</tr>
<tr>
<td align="left">Digest Authentication</td>
<td align="left">The API's authentication relies on using Digest Access Authentication as described in RFC2617 [RFC2617]</td>
</tr>
<tr>
<td align="left">x-{other}</td>
<td align="left">The API's authentication relies in another authentication method.</td>
</tr>
</tbody>
</table><p>A processing application's developers MAY provide support for these mechanisms. If a mechanism is supported, it MUST conform to specified standard.</p>

<h5>describedBy</h5>

<p>The <em>describedBy</em> attribute MAY be used to apply a trait-like structure to a security scheme mechanism so as to extend the mechanism, such as specifying response codes, HTTP headers or custom documentation.  </p>

<p>This extension allows API designers to describe security schemes. As a best practice, even for standard security schemes, API designers SHOULD describe the security schemes' required artifacts, such as headers, URI parameters, and so on. Including the security schemes' description completes an API's documentation.</p>

<h5>Settings</h5>

<p>The <em>settings</em> attribute MAY be used to provide security schema-specific information. Depending on the value of the <em>type</em> parameter, its attributes can vary.</p>

<p>The following lists describe the minimum set of properties which any processing application MUST provide and validate if it chooses to implement the Security Scheme type. Processing applications MAY choose to recognize other properties for things such as token lifetime, preferred cryptographic algorithms, an so on.</p>

<h6>OAuth 1.0</h6>

<table>
<thead><tr>
<th align="left">Property</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td align="left">requestTokenUri</td>
<td>The URI of the <em>Temporary Credential Request endpoint</em> as defined in RFC5849 Section 2.1</td>
</tr>
<tr>
<td align="left">authorizationUri</td>
<td>The URI of the <em>Resource Owner Authorization endpoint</em> as defined in RFC5849 Section 2.2</td>
</tr>
<tr>
<td align="left">tokenCredentialsUri</td>
<td>The URI of the <em>Token Request endpoint</em> as defined in RFC5849 Section 2.3</td>
</tr>
</tbody>
</table><h6>OAuth 2.0</h6>

<table>
<thead><tr>
<th align="left">Property</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td align="left">authorizationUri</td>
<td>The URI of the <em>Authorization Endpoint</em> as defined in RFC6749 [RFC6748] Section 3.1</td>
</tr>
<tr>
<td align="left">accessTokenUri</td>
<td>The URI of the <em>Token Endpoint</em> as defined in RFC6749 [RFC6748] Section 3.2</td>
</tr>
<tr>
<td align="left">authorizationGrants</td>
<td>A list of the Authorization grants supported by the API As defined in RFC6749 [RFC6749] Sections 4.1, 4.2, 4.3 and 4.4, can be any of: code, token, owner or credentials.</td>
</tr>
<tr>
<td align="left">scopes</td>
<td>A list of scopes supported by the API as defined in RFC6749 [RFC6749] Section 3.3</td>
</tr>
</tbody>
</table><h6>Other</h6>

<p>If the scheme's type is <em>x-other</em>, API designers can use the properties in this mapping to provide extra information to clients that understand the <em>x-other</em> type. </p>

<h3>Usage: Applying a Security Scheme to an API</h3>

<p>To apply a <em>securityScheme</em> definition to every method in an API, the API MAY be defined using the <em>securedBy</em> attribute. This specifies that all methods in the API are protected using that security scheme.</p>

<p>Applying a <em>securityScheme</em> definition to a method overrides whichever <em>securityScheme</em> has been defined at the root level. To indicate that the method is protected using a specific security scheme, the method MUST be defined by using the <em>securedBy</em> attribute. The value of the <em>securedBy</em> attribute MUST be a list of any of the security schemas defined in the <em>securitySchema</em> declaration.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Dropbox API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.dropbox.com/{version}/</span>
<span class="l-Scalar-Plain">securedBy</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">oauth_2_0</span><span class="p-Indicator">]</span>
<span class="l-Scalar-Plain">securitySchemes</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">oauth_2_0</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">oauth_2_0.yml</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">oauth_1_0</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">oauth_1_0.yml</span>
<span class="l-Scalar-Plain">/users</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">securedBy</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">oauth_2_0</span><span class="p-Indicator">,</span> <span class="nv">oauth_1_0</span><span class="p-Indicator">]</span>
</pre></div>

<p>A securityScheme may also be applied to a resource by using the <em>securedBy</em> key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the <em>resourceTypes</em> or <em>traits</em> property for that resource.</p>

<p>To indicate that the method may be called without applying any <em>securityScheme</em>, the method may be annotated with the <em>null</em> <em>securityScheme</em>.</p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com/</span>
<span class="l-Scalar-Plain">securitySchemes</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">oauth_2_0</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">oauth_2_0.yml</span>
<span class="l-Scalar-Plain">/users/{userid}/gists</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">securedBy</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">null</span><span class="p-Indicator">,</span> <span class="nv">oauth_2_0</span><span class="p-Indicator">]</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
            <span class="no">List the authenticated user’s gists or if called anonymously, this will return all public gists.</span>
</pre></div>

<p>If the processing application supports custom properties, custom parameters can be provided to the security scheme at the moment of inclusion in a method. In the following example, the parameter <em>scopes</em> is being assigned.</p>

<p>RAML does not specify which parameters MUST be provided or supported by each <em>securityScheme</em> implementation. </p>

<div class="highlight highlight-yaml"><pre><span class="c1">#%RAML 0.8</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">GitHub API</span>
<span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">v3</span>
<span class="l-Scalar-Plain">baseUri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://api.github.com/</span>
<span class="l-Scalar-Plain">securitySchemes</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">oauth_2_0</span><span class="p-Indicator">:</span> <span class="kt">!include</span> <span class="l-Scalar-Plain">oauth_2_0.yml</span>
<span class="l-Scalar-Plain">/users/{userid}/gists</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">get</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">securedBy</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">null</span><span class="p-Indicator">,</span> <span class="nv">oauth_2_0</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">scopes</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">ADMINISTRATOR</span> <span class="p-Indicator">]</span> <span class="p-Indicator">}</span> <span class="p-Indicator">]</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
            <span class="no">List the authenticated user’s gists or if called anonymously, this will return all public gists.</span>
</pre></div>

<h2>References</h2>

<h3>Normative References</h3>

<p>[RFC1738]  Berners-Lee, T., Masinter, L., and M. McCahill, "Uniform<br>
          Resource Locators (URL)", RFC 1738, December 1994.</p>

<p>[RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate<br>
          Requirement Levels", BCP 14, RFC 2119, March 1997.</p>

<p>[RFC2396]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform<br>
          Resource Identifiers (URI): Generic Syntax", RFC 2396,<br>
          August 1998.</p>

<p>[RFC2616]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,<br>
          Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext<br>
          Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999.</p>

<p>[RFC4627]  Crockford, D., "The application/json Media Type for<br>
          JavaScript Object Notation (JSON)", RFC 4627, July 2006.</p>

<p>[RFC5789]  Dusseault, L. and J. Snell, "PATCH Method for HTTP", RFC<br>
          5789, March 2010.</p>

<p>[RFC6570]  Gregorio, J., Fielding, R., Hadley, M., Nottingham, M.,<br>
          and D. Orchard, "URI Template", RFC 6570, March 2012.</p>

<p>[YAML]     Ben Kiki, O., Evans, C., and I. Net, "YAML Aint Markup<br>
          Language", 2009, <a href="http://www.yaml.org/spec/1.2/spec.html">http://www.yaml.org/spec/1.2/spec.html</a>.</p>

<h3>Informative References</h3>

<p>[JSON_SCHEMA]<br>
          Galiegue, F., Zyp, K., and G. Court, "JSON Schema: core<br>
          definitions and terminology", 2013,<br><a href="http://tools.ietf.org/html/draft-zyp-json-schema-04">http://tools.ietf.org/html/draft-zyp-json-schema-04</a>.</p>

<p>[MARKDOWN]<br>
          Gruber, J., "Markdown Syntax Documentation", 2004,<br><a href="http://daringfireball.net/projects/markdown/syntax">http://daringfireball.net/projects/markdown/syntax</a>.</p>

<p>[REST]     Fielding, R., "Representational State Transfer (REST)",<br>
          2000,
          rest_arch_style.htm&gt;.</p>

<p>[RFC2629]  Rose, M., "Writing I-Ds and RFCs using XML", RFC 2629,<br>
          June 1999.</p>

<p>[RFC3552]  Rescorla, E. and B. Korver, "Guidelines for Writing RFC<br>
          Text on Security Considerations", BCP 72, RFC 3552, July<br>
          2003.</p>

<p>[XML_SCHEMA]<br>
          Gao, S., Sperberg-McQueen, C., and H. Thompson, "W3C XML<br>
          Schema Definition Language (XSD) 1.1", 2012,<br><a href="http://www.w3.org/XML/Schema">http://www.w3.org/XML/Schema</a>.</p>
      </article>
    </div>
  </div>

  <div>&nbsp;</div>
  </div>

</body></html>
